(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};window.UserGroupEvent=function(){function t(t){this.isCompleted=n(this.isCompleted,this);this.isDraft=n(this.isDraft,this);this.isLive=n(this.isLive,this);var i,r=this;this.date=ko.observable(t.Date&&Date.parse(t.Date));this.fDate=ko.computed(function(){return r.formatDate(r.date())});this.venue=ko.observable(t.Venue);this.address=ko.observable(t.Address);this.time=ko.observable(this.formatTime(t));this.status=ko.observable(t.Status);this.url=ko.observable("http://www.eventbrite.ca/event/"+t.Id);this.title=ko.observable(t.Title);this.description=ko.observable(((i=t.Description)!=null?i.split("\n").slice(0,1).join("\n"):void 0)+"...")}return t.prototype.isLive=function(){return this.status()==="Live"},t.prototype.isDraft=function(){return this.status()==="Draft"},t.prototype.isCompleted=function(){return this.status()==="Completed"},t.prototype.formatDate=function(n){if(n!=null)return n.toString("dddd, MMMM dd, yyyy")},t.prototype.formatTime=function(n){var t,i;if(n.EndDate)return i=Date.parse(n.Date).toString("HH:mm"),t=Date.parse(n.EndDate).toString("HH:mm"),""+i+" to "+t},t.findAll=function(n){return $.ajax({type:"GET",url:"../api/events",success:function(i){var r;return n.success(function(){var n,f,u;for(u=[],n=0,f=i.length;n<f;n++)r=i[n],u.push(new t(r));return u}())},error:n.error,complete:n.complete})},t.Empty=function(){return new t({Date:null,Venue:null,Title:null,Status:null,EndDate:null})},t}()}).call(this)